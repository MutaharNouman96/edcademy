<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ed-Cademy • Analytics • User Analytics</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root { --brand:#0B3C77; --light:#f8fafc; }
    body { background:var(--light); }
    .sidebar { min-height:100vh; background:var(--brand); color:#fff; }
    .sidebar .nav-link { color:#d1d5db; border-radius:.5rem; }
    .sidebar .nav-link.active,.sidebar .nav-link:hover { background:rgba(255,255,255,.15); color:#fff; }
    .main-content { padding:2rem; }
    .card { border-radius:1rem; }
    .section-title { font-weight:700; color:var(--brand); }
    .kpi-card { background:#fff; border-radius:1rem; padding:1rem; box-shadow:0 4px 12px rgba(0,0,0,.05); }
    .kpi-value { font-size:1.5rem; font-weight:700; }
    .funnel-step { background:#e0f2fe; padding:1rem; border-radius:.5rem; margin-bottom:1rem; }
    .funnel-step strong { font-size:1.2rem; }
  </style>
</head>
<body>
<div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <aside class="col-md-3 col-lg-2 p-3 sidebar">
      <h4 class="mb-4"><i class="bi bi-mortarboard-fill me-2"></i>Ed-Cademy</h4>
      <nav class="nav flex-column gap-1">
        <a class="nav-link" href="#"><i class="bi bi-people-fill"></i>User Management</a>
        <a class="nav-link" href="#"><i class="bi bi-shield-check"></i>Content Moderation</a>
        <a class="nav-link" href="#"><i class="bi bi-calendar3"></i>Tutoring & Sessions</a>
        <a class="nav-link" href="#"><i class="bi bi-basket"></i>Marketplace & Products</a>
        <a class="nav-link" href="#"><i class="bi bi-cash-coin"></i>Financials</a>
        <a class="nav-link active" href="#"><i class="bi bi-bar-chart-line"></i>Analytics & Reporting</a>
      </nav>
    </aside>

    <!-- Main -->
    <main class="col-md-9 col-lg-10 main-content">
      <h2 class="mb-4">Analytics & Reporting • User Analytics</h2>

      <!-- KPI Row -->
      <div class="row g-4 mb-4">
        <div class="col-md-3"><div class="kpi-card text-center"><h6>Total Active Users</h6><div class="kpi-value text-success">12,480</div></div></div>
        <div class="col-md-3"><div class="kpi-card text-center"><h6>Students</h6><div class="kpi-value text-primary">10,200</div></div></div>
        <div class="col-md-3"><div class="kpi-card text-center"><h6>Educators</h6><div class="kpi-value text-warning">2,280</div></div></div>
        <div class="col-md-3"><div class="kpi-card text-center"><h6>Retention Rate</h6><div class="kpi-value text-info">76%</div></div></div>
      </div>

      <!-- User Growth Chart -->
      <div class="card p-4 mb-4">
        <h5 class="section-title mb-3"><i class="bi bi-graph-up-arrow me-2"></i>User Growth (Students vs Educators)</h5>
        <canvas id="growthChart" height="120"></canvas>
      </div>

      <!-- Retention Chart -->
      <div class="card p-4 mb-4">
        <h5 class="section-title mb-3"><i class="bi bi-graph-up me-2"></i>User Retention (Cohort Analysis)</h5>
        <canvas id="retentionChart" height="120"></canvas>
      </div>

      <!-- Funnel Analysis -->
      <div class="card p-4 mb-4">
        <h5 class="section-title mb-3"><i class="bi bi-diagram-3 me-2"></i>Funnel: Sign-up → Purchase → Completion</h5>
        <div class="row">
          <div class="col-md-6">
            <h6>Students</h6>
            <div class="funnel-step"><strong>9,000</strong> Signed Up</div>
            <div class="funnel-step"><strong>5,600</strong> Purchased</div>
            <div class="funnel-step"><strong>4,300</strong> Completed Courses</div>
          </div>
          <div class="col-md-6">
            <h6>Educators</h6>
            <div class="funnel-step"><strong>1,000</strong> Signed Up</div>
            <div class="funnel-step"><strong>600</strong> Subscribed (Premium)</div>
            <div class="funnel-step"><strong>500</strong> Active Publishing</div>
          </div>
        </div>
        <canvas id="funnelChart" height="100"></canvas>
      </div>

      <!-- Geo Distribution -->
      <div class="card p-4">
        <h5 class="section-title mb-3"><i class="bi bi-geo-alt me-2"></i>User Distribution by Region</h5>
        <canvas id="geoChart" height="120"></canvas>
      </div>

    </main>
  </div>
</div>

<script>
  // Growth Chart (Students vs Educators)
  new Chart(document.getElementById('growthChart'), {
    type: 'line',
    data: {
      labels: ['Apr','May','Jun','Jul','Aug','Sep'],
      datasets: [
        { label: 'Students', data: [7000, 7600, 8100, 8800, 9500, 10200], borderColor:'#1d9bf0', backgroundColor:'rgba(29,155,240,0.1)', fill:true, tension:0.4 },
        { label: 'Educators', data: [1800, 1900, 2000, 2150, 2300, 2280], borderColor:'#f59e0b', backgroundColor:'rgba(245,158,11,0.1)', fill:true, tension:0.4 }
      ]
    },
    options: { responsive:true }
  });

  // Retention Chart
  new Chart(document.getElementById('retentionChart'), {
    type: 'line',
    data: {
      labels: ['Week 1','Week 2','Week 3','Week 4','Week 5'],
      datasets: [{
        label: 'Retention %',
        data: [100, 82, 76, 70, 65],
        borderColor: '#0B3C77',
        backgroundColor: 'rgba(11,60,119,0.1)',
        tension: 0.4,
        fill: true
      }]
    },
    options: { responsive:true, plugins:{ legend:{ display:false } } }
  });

  // Funnel Chart
  new Chart(document.getElementById('funnelChart'), {
    type: 'bar',
    data: {
      labels: ['Students - Sign-ups','Students - Purchases','Students - Completions','Educators - Sign-ups','Educators - Premium','Educators - Publishing'],
      datasets: [{
        label: 'Users',
        data: [9000, 5600, 4300, 1000, 600, 500],
        backgroundColor: ['#1d9bf0','#16a34a','#0B3C77','#f59e0b','#f97316','#dc2626']
      }]
    },
    options: { responsive:true, indexAxis:'y', plugins:{ legend:{ display:false } }, scales:{ x:{ beginAtZero:true } } }
  });

  // Geo Distribution Chart
  new Chart(document.getElementById('geoChart'), {
    type: 'doughnut',
    data: {
      labels: ['North America','Europe','Asia','Middle East','Other'],
      datasets: [{
        data: [3500, 2800, 4200, 1500, 480],
        backgroundColor: ['#0B3C77','#1d9bf0','#16a34a','#f59e0b','#94a3b8']
      }]
    },
    options: { responsive:true }
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
